<controls:MetroWindow x:Class="ImageToolApp.MainWindow"
              xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
              xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
              xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
              xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
              xmlns:controls="http://metro.mahapps.com/winfx/xaml/controls"
              mc:Ignorable="d" Icon="Resources/Images/PictoCrypt.png" ShowIconOnTitleBar="True" 
              IconTemplate="{StaticResource WindowIconTemplate}"
              Title="ImageTool" Height="500" Width="600" ShowTitleBar="True">
    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="50" />
            <ColumnDefinition Width="*" />
        </Grid.ColumnDefinitions>
        <Grid.RowDefinitions>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <StackPanel Grid.Row="0" Grid.Column="0" Orientation="Vertical">
            <GroupBox>
                <GroupBox.Header>
                    <Image Source="{StaticResource MenueImage}"/>
                </GroupBox.Header>
                <StackPanel Orientation="Vertical">
                    <Button Command="{Binding PreferencesCommand}" Style="{StaticResource ButtonWithoutBorderStyle}"
                            ToolTip="Eigenschaften">
                        <Image Source="{StaticResource CloseImage}" />
                    </Button>
                    <Button Command="{Binding CloseAppCommand}" Style="{StaticResource ButtonWithoutBorderStyle}"
                            ToolTip="Applikation schließen">
                        <Image Source="{StaticResource CloseImage}" />
                    </Button>
                </StackPanel>
            </GroupBox>
            <GroupBox Header="Bilder">
                <StackPanel Orientation="Vertical">
                    <Button Command="{Binding OpenImageCommand}" Style="{StaticResource ButtonWithoutBorderStyle}"
                            ToolTip="Bild öffnen">
                        <Image Source="{StaticResource OpenPictureImage}" />
                    </Button>
                    <Button Command="{Binding SaveImageCommand}" Style="{StaticResource ButtonWithoutBorderStyle}" 
                            IsEnabled="{Binding CurrentElement.DataContext.ResultImagePath, Converter={StaticResource IsStringNullConverter}}"
                            ToolTip="Bild speichern">
                        <Image Source="{StaticResource SaveAsImage}" Style="{StaticResource AutoDisableAndOutGrayImage}" />
                    </Button>
                    <Button Command="{Binding ChangedPixelsCommand}" Style="{StaticResource ButtonWithoutBorderStyle}"
                            IsEnabled="{Binding CurrentElement.DataContext.ResultImagePath, Converter={StaticResource IsStringNullConverter}}"
                            ToolTip="Veränderte Pixel anzeigen">
                        <Image Source="{StaticResource PaintPixelsImage}" Style="{StaticResource AutoDisableAndOutGrayImage}" />
                    </Button>
                </StackPanel>
            </GroupBox>
            <GroupBox Header="Text">
                <StackPanel Orientation="Vertical">
                    <Button Command="{Binding OpenTxtCommand}" Style="{StaticResource ButtonWithoutBorderStyle}"
                            ToolTip="Text importieren">
                        <Image Source="{StaticResource OpenDocumentImage}" />
                    </Button>
                    <Button Command="{Binding SaveTxtCommand}" Style="{StaticResource ButtonWithoutBorderStyle}"
                            IsEnabled="{Binding CurrentElement.DataContext.Text, Converter={StaticResource IsStringNullConverter}}"
                            ToolTip="Text speichern">
                        <Image Source="{StaticResource SaveAsImage}" Style="{StaticResource AutoDisableAndOutGrayImage}" />
                    </Button>
                </StackPanel>
            </GroupBox>

            <Button Command="{Binding OpenHelpCommand}" Style="{StaticResource ButtonWithoutBorderStyle}"
                    ToolTip="Hilfe">
                <Image Source="{StaticResource HelpImage}" Width="25" />
            </Button>
        </StackPanel>

        <TabControl Grid.Row="0" Grid.Column="1">
            <TabItem Header="Encrypt" IsSelected="{Binding EncryptSelected, Mode=OneWayToSource}">
                <ContentControl Content="{Binding EncryptView}" HorizontalAlignment="Stretch" VerticalAlignment="Stretch" />
            </TabItem>
            <TabItem Header="Decrypt">
                <ContentControl Content="{Binding DecryptView}" HorizontalAlignment="Stretch" VerticalAlignment="Stretch" />
            </TabItem>
        </TabControl>

    </Grid>
</controls:MetroWindow>